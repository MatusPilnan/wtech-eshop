(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d226763"],{e981:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("q-list",{attrs:{highlight:"",separator:""}},[a("q-list-header",[t._v("Zoznam produktov")]),t._l(t.categories,function(e){return a("q-collapsible",{key:e.name,attrs:{group:"cat",label:e.name}},t._l(e.subcategories,function(e){return a("q-collapsible",{key:e.name,attrs:{separator:"",group:"subcat",label:e.name}},t._l(e.products,function(e){return a("q-item",{key:e.name,attrs:{dense:"",highlight:"",separator:""}},[a("q-item-side",{attrs:{image:t.getMiniImg(e)}}),a("q-item-main",{attrs:{label:e.name,sublabel:e.long_desc,"sublabel-lines":2}},[a("q-item-tile",[t._v("\n              "+t._s(e.price)+" €\n            ")])],1),a("q-item-side",{attrs:{right:""}},[a("q-btn",{attrs:{push:"",color:"warning",label:"Upraviť",icon:"edit"},on:{click:function(a){t.$router.push({name:"edit",params:{productID:e.id}})}}}),a("q-btn",{attrs:{push:"",color:"negative",label:"Vymazať",icon:"delete"},on:{click:function(a){t.destroy(e.id,e.name)}}})],1)],1)}))}))})],2)],1)},i=[];n._withStripped=!0;a("ac6a");var o=a("bc3a"),r=a.n(o),s={data:function(){return{manufacturers:[],categories:[]}},methods:{getMiniImg:function(t){var e="http://localhost:8000/img/logo.png";return t.all_images.forEach(function(t){!0===t.mini&&(e="http://localhost:8000/"+t.file)}),e},destroy:function(t,e){var a=this;this.$q.dialog({title:"Vymazanie produktu",message:"Naozaj chcete vymazat produkt "+e+"?",color:"warning",ok:!0,cancel:!0}).then(function(){r.a.delete("http://localhost:8000/products/".concat(t)).then(function(t){a.showNotification("Produkt uspesne vymazany","positive",e),a.updateCatalog()}).catch(function(){a.showNotification("Produkt sa nepodarilo vymazat","negative",e)})}).catch(function(){})},showNotification:function(t,e,a){this.$q.notify({message:t,timeout:1e3,color:e,detail:a,position:"center"})},updateCatalog:function(){var t=this;r.a.get("http://localhost:8000/products/list").then(function(e){t.categories=e.data}).catch(function(e){t.errors.push(e)})}},created:function(){this.updateCatalog()}},c=s,l=a("2877"),u=Object(l["a"])(c,n,i,!1,null,null,null);u.options.__file="Index.vue";e["default"]=u.exports}}]);